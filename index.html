<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LADY LEGALZ CONTRACTGEN NEO-INTELLIGENCE</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;770&family=Share+Tech+Mono&family=Rajdhani:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --neural-glow: #00ffcc; 
            --deep-void: #0a001a;
            --synth-purple: rgba(10, 15, 25, 0.85); 
            --interface-text: #e0e0e0;
            --control-bg: rgba(0, 40, 40, 0.4);
            --border-light: rgba(0, 255, 204, 0.3);
            --paper-bg: #f8faff; 
            --legal-black: #1a1a1a;
            --db-glow: #0088ff;
        }

        #boot-loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999; display: flex; 
            flex-direction: column; align-items: center; justify-content: center;
            font-family: 'Share Tech Mono', monospace; color: var(--neural-glow);
        }

        .boot-text { overflow: hidden; white-space: nowrap; border-right: 2px solid var(--neural-glow); width: 0; animation: typing 1s steps(30, end) forwards; }
        @keyframes typing { from { width: 0 } to { width: 100% } }

        body, html { 
            margin: 0; padding: 0; height: 100%; overflow: hidden; 
            font-family: 'Rajdhani', sans-serif; color: var(--interface-text); 
            background: url('https://r.jina.ai/i/65d956973e974e30a57e3f4384b6f19a') no-repeat center center fixed;
            background-size: cover;
        }

        @keyframes scanline { 0% { opacity: 0.95; } 5% { opacity: 1; } 10% { opacity: 0.9; } 100% { opacity: 1; } }
        @keyframes glitch-load {
            0% { clip-path: inset(100% 0 0 0); filter: brightness(2) contrast(2); }
            100% { clip-path: inset(0 0 0 0); filter: brightness(1) contrast(1); }
        }

        .app-container { 
            display: grid; grid-template-columns: 480px 1fr; height: 100vh; position: relative; 
            backdrop-filter: blur(4px); opacity: 0; transition: opacity 1.5s ease;
        }

        .sidebar { 
            background: var(--synth-purple); border-right: 1px solid var(--border-light); 
            padding: 30px; overflow-y: auto; display: flex; flex-direction: column; gap: 18px; 
            animation: scanline 4s infinite;
        }
        
        .logo-panel { 
            text-align: center; margin-bottom: 20px; padding: 20px; 
            border: 1px solid var(--neural-glow); border-radius: 8px; 
            background: rgba(0, 255, 204, 0.08);
            box-shadow: inset 0 0 15px rgba(0, 255, 204, 0.2);
        }
        .logo-text { font-family: 'Orbitron', sans-serif; font-size: 1.4rem; color: var(--neural-glow); text-transform: uppercase; letter-spacing: 2px; }

        .db-panel {
            border: 1px solid var(--db-glow); border-radius: 8px;
            padding: 15px; background: rgba(0, 136, 255, 0.05);
            margin-top: 10px;
        }
        .db-header { font-family: 'Orbitron'; font-size: 0.8rem; color: var(--db-glow); margin-bottom: 10px; display: block; text-shadow: 0 0 10px var(--db-glow); }

        .input-field, .select-field { 
            background: var(--control-bg); border: 1px solid var(--border-light); padding: 12px; 
            color: var(--interface-text); border-radius: 5px; backdrop-filter: blur(10px); width: 100%; box-sizing: border-box;
        }
        .input-field:focus { border-color: var(--neural-glow); box-shadow: 0 0 15px rgba(0, 255, 204, 0.5); }

        .doc-canvas { background: rgba(0,0,0,0.3); overflow-y: auto; padding: 40px; display: flex; flex-direction: column; align-items: center; }
        
        .document-page {
            width: 8.5in; min-height: 11in; background: var(--paper-bg); color: var(--legal-black);
            padding: 0.8in 1in; margin-bottom: 40px; box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            font-family: 'Times New Roman', serif; font-size: 11pt; line-height: 1.5;
            animation: glitch-load 0.4s ease-out; position: relative;
        }

        .fillable-input { 
            border: none; border-bottom: 1px dashed #007bff; background-color: rgba(0,123,255,0.05); 
            font-family: 'Times New Roman', serif; font-size: 11pt; color: var(--legal-black);
            padding: 1px 4px; margin: 0 2px;
        }

        .action-bar { padding: 20px; border-top: 1px solid var(--border-light); background: rgba(5, 10, 15, 0.95); display: flex; gap: 15px; justify-content: center; }
        .btn { 
            background: var(--neural-glow); color: #002211; border: none; padding: 14px 25px; 
            font-family: 'Orbitron', sans-serif; font-weight: 700; cursor: pointer; border-radius: 5px; 
            text-transform: uppercase; box-shadow: 0 0 15px rgba(0, 255, 204, 0.4);
        }
    </style>
</head>
<body>

<div id="boot-loader">
    <div class="boot-text">> INITIALIZING NEO-INTELLIGENCE CORE...</div>
    <div class="boot-text" style="animation-delay: 1.2s;">> LOADING....TUOLAT...LADY LEGALZ BETA v4.0.0....</div>
    <div class="boot-text" style="animation-delay: 2.4s;">> CONTRACTGEN....</div>
</div>

<div class="app-container" id="main-ui">
    <aside class="sidebar">
        <div class="logo-panel">
            <h1 class="logo-text">LADY LEGALZ CONTRACTGEN</h1>
            <span style="font-family:'Share Tech Mono'; font-size:0.75rem; color:var(--neural-glow);">NEO-INTELLIGENCE</span>
        </div>

        <div class="db-panel">
            <label class="db-header">CONTRACTGEN AGREEMENTS</label>
            <select id="contract-db" class="select-field" style="border-color: var(--db-glow);" onchange="loadDatabaseContract()">
                <option value="">-- LEGAL AGREEMENT DATABASE --</option>
                <option value="ATTORNEY_CLIENT">Attorney Client Agreement</option>
            </select>
        </div>

        <div class="control-group">
            <label style="color:var(--neural-glow); font-size:0.8rem; margin-top:10px; display:block;">CONTRACTGEN PROTOCOLS</label>
            <select id="protocol" class="select-field" onchange="initFields()">
                <option value="">-- LEGAL PROTOCOL DATABASE --</option>
                <option value="SUMMONS_CIVIL">SUMMONS_FEDERAL_CIVIL ACTION</option>
                <option value="COMPLAINT_CIVIL">COMPLAINT_FEDERAL_CIVIL ACTION</option>
            </select>
        </div>
        <div id="form-fields"></div>
    </aside>

    <main class="doc-canvas" id="doc-output">
        <div style="text-align:center; padding-top:200px; opacity:0.8;">
            <h1 style="font-family:'Orbitron'; font-size:2.5rem; color:var(--neural-glow); text-shadow: 0 0 30px var(--neural-glow);">SYSTEM READY</h1>
        </div>
    </main>

    <div class="action-bar">
        <button class="btn" onclick="generateFillablePdf()">PDF EXPORT</button>
        <button class="btn" onclick="window.print()">PRINT</button>
        <button class="btn" style="background:none; border:1px solid var(--neural-glow); color:var(--neural-glow);" onclick="location.reload()">RESETGEN</button>
    </div>
</div>

<script>
    const DATABASE = {
        ATTORNEY_CLIENT: `
            <div class="document-page">
                <div style="text-align:center; font-weight:bold; text-transform:uppercase; font-size:14pt; margin-bottom:30px;">ATTORNEY-CLIENT FEE AGREEMENT</div>
                <p>This Agreement is made between <b>Attorney</b> <input type="text" class="fillable-input" placeholder="Firm/Attorney Name" style="width:250px;"> ("Attorney") and <b>Client</b> <input type="text" class="fillable-input" placeholder="Full Client Name" style="width:250px;"> ("Client").</p>
                
                <p><b>1. SCOPE OF SERVICES:</b> Attorney agrees to provide legal representation for the following matter: <br>
                <input type="text" class="fillable-input" placeholder="Description of Legal Matter" style="width:100%; margin-top:10px;"></p>

                <p><b>2. FEES:</b> Client agrees to pay Attorney for legal services as follows: <br>
                <input type="text" class="fillable-input" placeholder="Fixed Fee / Hourly Rate" style="width:100%; margin-top:10px;"></p>

                <p><b>3. COSTS:</b> Client shall be responsible for all out-of-pocket expenses including, but not limited to, filing fees, service of process, and expert fees.</p>

                <p><b>4. CLIENT DUTIES:</b> Client agrees to be truthful, to cooperate, and to keep Attorney informed of any change in address or telephone number.</p>

                <div style="margin-top:100px; display:flex; justify-content:space-between;">
                    <div><hr style="width:200px; border:0; border-top:1px solid black;">Client Signature</div>
                    <div><hr style="width:200px; border:0; border-top:1px solid black;">Attorney Signature</div>
                </div>
                <div style="margin-top:30px;">Dated: <input type="text" class="fillable-input" placeholder="MM/DD/YYYY" style="width:120px;"></div>
            </div>`,
        SUMMONS_CIVIL: `
            <div class="document-page">
                <div style="text-align:center; font-weight:bold; font-size:14pt;">UNITED STATES DISTRICT COURT</div>
                <div style="text-align:center; margin-bottom:20px;">for the <br> <input type="text" class="fillable-input" placeholder="District Court Name" style="width:300px;"></div>
                
                <div style="display:grid; grid-template-columns: 1fr 100px 1fr; margin-bottom:30px;">
                    <div><input type="text" class="fillable-input" placeholder="Plaintiff(s)" style="width:100%;"> <br> Plaintiff(s)</div>
                    <div style="text-align:center;">v.</div>
                    <div><input type="text" class="fillable-input" placeholder="Defendant(s)" style="width:100%;"> <br> Defendant(s)</div>
                </div>

                <div style="font-weight:bold; text-align:center; font-size:16pt; margin-bottom:20px;">SUMMONS IN A CIVIL ACTION</div>
                <p><b>To: (Defendant's name and address)</b><br>
                <textarea class="fillable-input" style="width:100%; height:60px;"></textarea></p>

                <p>A lawsuit has been filed against you. Within 21 days after service of this summons on you (not counting the day you received it)... you must serve on the plaintiff an answer to the attached complaint or a motion under Rule 12 of the Federal Rules of Civil Procedure.</p>

                <div style="margin-top:50px;">
                    CLERK OF COURT: <input type="text" class="fillable-input" style="width:250px;"> <br>
                    Date: <input type="text" class="fillable-input" style="width:150px;">
                </div>
            </div>`,
        COMPLAINT_CIVIL: `
            <div class="document-page">
                 <div style="text-align:center; font-weight:bold; font-size:14pt;">UNITED STATES DISTRICT COURT</div>
                <div style="text-align:center; margin-bottom:20px;">for the <br> <input type="text" class="fillable-input" placeholder="District Court Name" style="width:300px;"></div>

                <div style="display:grid; grid-template-columns: 1fr 80px 1.5fr;">
                    <div><input type="text" class="fillable-input" placeholder="Plaintiff Name" style="width:100%;">, Plaintiff</div>
                    <div style="text-align:center;">vs.</div>
                    <div>Case No: <input type="text" class="fillable-input" style="width:150px;"></div>
                </div>
                <div><input type="text" class="fillable-input" placeholder="Defendant Name" style="width:100%; margin-top:10px;">, Defendant</div>

                <div style="text-align:center; font-weight:bold; font-size:14pt; margin:40px 0;">COMPLAINT FOR A CIVIL CASE</div>

                <p><b>I. Basis for Jurisdiction:</b><br>
                <input type="text" class="fillable-input" placeholder="e.g., Federal Question / Diversity" style="width:100%;"></p>

                <p><b>II. Statement of Claim:</b><br>
                <textarea class="fillable-input" style="width:100%; height:200px;" placeholder="Write the facts of your case here..."></textarea></p>

                <p><b>III. Relief:</b><br>
                <textarea class="fillable-input" style="width:100%; height:100px;" placeholder="What do you want the court to do?"></textarea></p>

                <div style="margin-top:50px;">
                    Respectfully submitted,<br><br>
                    <input type="text" class="fillable-input" placeholder="Your Name" style="width:250px;"><br>
                    Date: <input type="text" class="fillable-input" style="width:150px;">
                </div>
            </div>`
    };

    function scrambleEffect() {
        const titles = document.querySelectorAll('.doc-title, b, h1, h3');
        titles.forEach(el => {
            const originalText = el.innerText;
            const chars = "!<>-_\\/[]{}â€”=+*^?#________";
            let iteration = 0;
            const interval = setInterval(() => {
                el.innerText = originalText.split("").map((l, i) => (i < iteration ? originalText[i] : chars[Math.floor(Math.random() * chars.length)])).join("");
                if(iteration >= originalText.length) clearInterval(interval);
                iteration += 1/3;
            }, 30);
        });
    }

    function loadDatabaseContract() {
        const key = document.getElementById('contract-db').value;
        const output = document.getElementById('doc-output');
        if (key && DATABASE[key]) {
            output.innerHTML = DATABASE[key];
            scrambleEffect();
        }
    }

    function initFields() {
        const key = document.getElementById('protocol').value;
        const output = document.getElementById('doc-output');
        if (key && DATABASE[key]) {
            output.innerHTML = DATABASE[key];
            document.getElementById('contract-db').value = "";
            scrambleEffect();
        }
    }

    async function generateFillablePdf() {
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF({ orientation: 'portrait', unit: 'pt', format: 'letter' });
        const page = document.querySelector('.document-page');
        if(!page) {
            alert("Please select a document first.");
            return;
        }
        
        // Capture canvas including input values
        const canvas = await html2canvas(page, { 
            scale: 2,
            useCORS: true,
            onclone: (clonedDoc) => {
                // Ensure text areas and inputs are visible in the capture
                const inputs = clonedDoc.querySelectorAll('.fillable-input');
                inputs.forEach(input => {
                    input.style.border = "none";
                    input.style.backgroundColor = "transparent";
                });
            }
        });
        
        pdf.addImage(canvas.toDataURL('image/jpeg', 1.0), 'JPEG', 0, 0, 612, 792);
        pdf.save('Lady_Legalz_System_Export.pdf');
    }

    window.onload = () => {
        setTimeout(() => {
            document.getElementById('boot-loader').style.display = 'none';
            document.getElementById('main-ui').style.opacity = '1';
        }, 3500);
    };
</script>
</body>
</html>
