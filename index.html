<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lady Legalz ContractGen Neo-Intelligence 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/docx@8.5.0/build/index.js"></script>
    <script src="https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js"></script>
    <style>
        :root {
            --accent: #00f2ff;
            --secondary: #7000ff;
            --glass: rgba(255, 255, 255, 0.04);
            --border: rgba(255, 255, 255, 0.1);
            --bg: #05070a;
        }

        * { box-sizing: border-box; scrollbar-width: none; -ms-overflow-style: none; }
        *::-webkit-scrollbar { display: none; }

        body, html { 
            margin: 0; padding: 0; height: 100%; 
            background: var(--bg); color: #e2e8f0; 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            overflow: hidden; 
            -webkit-font-smoothing: antialiased;
        }

        #particlesCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; opacity: 0.4; }
        .bg-glow {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 80vw; height: 80vh; background: radial-gradient(circle, rgba(112, 0, 255, 0.1) 0%, transparent 70%);
            z-index: -1;
        }

        @keyframes pageReveal {
            from { opacity: 0; transform: translateY(20px); filter: blur(10px); }
            to { opacity: 1; transform: translateY(0); filter: blur(0); }
        }

        .app { 
            position: relative; z-index: 2; display: grid; 
            grid-template-rows: auto 1fr auto; height: 100vh; 
            max-width: 1400px; margin: 0 auto; padding: 15px; 
            animation: pageReveal 1.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }

        header { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 15px 25px; background: var(--glass); border: 1px solid var(--border); 
            border-radius: 20px; backdrop-filter: blur(25px);
        }

        .chat-container { flex: 1; overflow-y: auto; padding: 20px 0; display: flex; flex-direction: column; gap: 25px; }

        .message { 
            max-width: 90%; padding: 25px; border-radius: 20px; 
            line-height: 1.6; font-size: 0.95rem; border: 1px solid var(--border);
            animation: slideIn 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        @keyframes slideIn { from { opacity: 0; transform: translateX(-15px); } to { opacity: 1; transform: translateX(0); } }

        .user { align-self: flex-end; background: var(--secondary); color: #fff; border: none; }
        .assistant { align-self: flex-start; background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(15px); }

        /* LEGAL PAPER STYLING */
        .legal-paper { 
            background: #fff; color: #1e293b; 
            padding: 60px 80px; border-radius: 2px; margin-top: 25px; 
            font-family: 'Times New Roman', Times, serif; font-size: 12pt; 
            box-shadow: 0 30px 60px rgba(0,0,0,0.6); 
            max-height: 700px; overflow-y: auto; text-align: justify;
            border-top: 10px solid var(--accent);
            line-height: 1.5;
        }
        .legal-paper h2 { text-align: center; font-size: 14pt; text-transform: uppercase; margin-bottom: 25px; font-weight: bold; }
        .legal-paper h3 { font-size: 12pt; margin-top: 20px; font-weight: bold; text-decoration: underline; }
        .legal-paper p { margin-bottom: 12pt; }

        .input-bar {
            background: var(--glass); border: 1px solid var(--border);
            padding: 8px; border-radius: 30px; display: flex; gap: 10px;
            backdrop-filter: blur(20px); margin: 10px 0;
        }
        textarea { flex: 1; background: transparent; border: none; color: #fff; padding: 15px 25px; font-size: 1rem; outline: none; resize: none; }
        .btn-exec { background: var(--accent); color: #000; border: none; padding: 0 35px; border-radius: 25px; font-weight: 800; cursor: pointer; transition: 0.3s; }
        .btn-exec:hover { transform: scale(1.02); box-shadow: 0 0 25px var(--accent); }

        .dl-group { display: flex; gap: 10px; margin-top: 20px; }
        .dl-btn { padding: 10px 20px; border-radius: 8px; border: 1px solid var(--border); background: rgba(255,255,255,0.05); color: #fff; cursor: pointer; font-size: 0.8rem; }
        .dl-btn:hover { background: #fff; color: #000; }
    </style>
</head>
<body>
    <canvas id="particlesCanvas"></canvas>
    <div class="bg-glow"></div>

    <div class="app">
        <header>
            <div>
                <h1 style="margin:0; font-size: 1.6rem; letter-spacing: -1px;">LADY LEGALZ <span style="color:var(--accent)">CONTRACTGEN</span></h1>
                <div style="font-family:'Space Mono'; font-size: 0.65rem; color:var(--accent); letter-spacing: 3px;">NEO-INTELLIGENCE_OS_ACTIVE</div>
            </div>
        </header>

        <div id="chat" class="chat-container">
            <div class="message assistant">
                <strong style="font-family:'Space Mono'; color:var(--accent);">[NEO-INTELLIGENCE INITIALIZED]</strong><br>
                Terminal online. Advanced Document Engine loaded with high-fidelity legal text. Export functions calibrated to 12pt Times New Roman standards.
            </div>
        </div>

        <div class="input-area">
            <div class="input-bar">
                <textarea id="prompt" rows="1" placeholder="Initialize document generation..."></textarea>
                <button class="btn-exec" id="send-btn">GENERATE</button>
            </div>
        </div>
    </div>

    <script>
        const LIB = {
            nda: `<h2>MUTUAL NON-DISCLOSURE AGREEMENT</h2>
                <p>THIS MUTUAL NON-DISCLOSURE AGREEMENT (the "Agreement") is made and entered into as of [DATE] (the "Effective Date"), by and between [PARTY A], a [State] corporation, and [PARTY B], a [State] corporation.</p>
                <h3>1. PURPOSE</h3>
                <p>The parties wish to explore a business opportunity of mutual interest and in connection with this opportunity, each party may disclose to the other certain confidential technical and business information.</p>
                <h3>2. CONFIDENTIAL INFORMATION</h3>
                <p>"Confidential Information" means any information disclosed by the Disclosing Party to the Receiving Party, either directly or indirectly, in writing, orally or by inspection of tangible objects, which is designated as "Confidential," "Proprietary" or some similar designation.</p>
                <h3>3. NON-USE AND NON-DISCLOSURE</h3>
                <p>The Receiving Party shall not use any Confidential Information of the Disclosing Party for any purpose except to evaluate and engage in discussions concerning the potential business relationship. The Receiving Party shall not disclose any Confidential Information of the Disclosing Party to third parties.</p>
                <h3>4. GOVERNING LAW</h3>
                <p>This Agreement shall be governed by and construed in accordance with the laws of the State of Delaware without regard to its conflict of laws principles.</p>
                <h3>5. ENTIRE AGREEMENT</h3>
                <p>This Agreement constitutes the entire agreement between the parties with respect to the subject matter hereof and supersedes all prior or contemporaneous agreements.</p>`,
            
            msa: `<h2>MASTER SERVICES AGREEMENT</h2>
                <p>THIS MASTER SERVICES AGREEMENT (the "Agreement") is entered into as of [DATE], by and between [CLIENT NAME] ("Client") and [SERVICE PROVIDER NAME] ("Provider").</p>
                <h3>1. SCOPE OF SERVICES</h3>
                <p>Provider shall perform the services set forth in one or more Statements of Work ("SOW") executed by the parties. Each SOW shall incorporate the terms of this Agreement.</p>
                <h3>2. COMPENSATION AND PAYMENT</h3>
                <p>Client shall pay Provider the fees set forth in the applicable SOW. All payments are due within thirty (30) days of the date of an undisputed invoice. Late payments shall accrue interest at a rate of 1.5% per month.</p>
                <h3>3. INTELLECTUAL PROPERTY</h3>
                <p>Upon full payment of fees, Provider hereby assigns to Client all right, title, and interest in and to any work product specifically created for Client under an SOW ("Work Product").</p>
                <h3>4. LIMITATION OF LIABILITY</h3>
                <p>IN NO EVENT SHALL EITHER PARTY BE LIABLE FOR ANY INDIRECT, CONSEQUENTIAL, OR SPECIAL DAMAGES. THE TOTAL AGGREGATE LIABILITY OF EITHER PARTY SHALL NOT EXCEED THE TOTAL FEES PAID IN THE 12 MONTHS PRECEDING THE CLAIM.</p>
                <h3>5. TERMINATION</h3>
                <p>Either party may terminate this Agreement for material breach if such breach remains uncured for thirty (30) days following written notice.</p>`
            // Additional templates would follow this high-fidelity structure
        };

        const chat = document.getElementById('chat');
        const promptInput = document.getElementById('prompt');
        const sendBtn = document.getElementById('send-btn');

        function addMsg(content, type) {
            const div = document.createElement('div');
            div.className = `message ${type}`;
            div.innerHTML = content;
            chat.appendChild(div);
            chat.scrollTop = chat.scrollHeight;
            return div;
        }

        async function executeDraft() {
            const input = promptInput.value.trim();
            if(!input) return;
            addMsg(input, 'user');
            promptInput.value = '';
            const loader = addMsg('<span style="color:var(--accent); font-family:Space Mono;">[NEO-INTELLIGENCE]: COMPILING LEGAL TEXT & FORMATTING...</span>', 'assistant');
            
            setTimeout(() => {
                loader.remove();
                let docKey = 'nda';
                const lowerInput = input.toLowerCase();
                if(lowerInput.includes('service') || lowerInput.includes('msa')) docKey = 'msa';

                const text = LIB[docKey] || LIB.nda;
                const responseHtml = `
                    <strong>LEGAL GENERATION COMPLETE</strong><br>
                    Module: ${docKey.toUpperCase()}<br>
                    <div class="legal-paper" id="active-draft">
                        ${text}
                        <div style="margin-top:50px;">
                            <p><strong>IN WITNESS WHEREOF</strong>, the parties have executed this Agreement as of the Effective Date.</p>
                            <div style="display:flex; justify-content:space-between; margin-top:40px;">
                                <div>__________________________<br>By: [NAME]<br>Title: [TITLE]</div>
                                <div>__________________________<br>By: [NAME]<br>Title: [TITLE]</div>
                            </div>
                        </div>
                    </div>
                    <div class="dl-group">
                        <button class="dl-btn" onclick="dlPDF()">EXPORT PDF (12pt Times)</button>
                        <button class="dl-btn" onclick="dlWord()">EXPORT DOCX (12pt Times)</button>
                    </div>`;
                addMsg(responseHtml, 'assistant');
            }, 2000);
        }

        function dlPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const element = document.getElementById('active-draft');
            
            // Set Font to Times (Legal standard) and size 12
            doc.setFont("times", "normal");
            doc.setFontSize(12);
            
            const cleanText = element.innerText;
            const splitText = doc.splitTextToSize(cleanText, 170);
            doc.text(splitText, 20, 25);
            doc.save('Legalz_Contract_Export.pdf');
        }

        function dlWord() {
            const { Document, Packer, Paragraph, TextRun, AlignmentType } = window.docx;
            const element = document.getElementById('active-draft');
            const lines = element.innerText.split('\n').filter(l => l.trim() !== "");

            const doc = new Document({
                sections: [{
                    properties: {},
                    children: lines.map(line => new Paragraph({
                        alignment: AlignmentType.JUSTIFY,
                        spacing: { after: 200 },
                        children: [
                            new TextRun({
                                text: line,
                                font: "Times New Roman",
                                size: 24, // 24 half-points = 12pt
                            }),
                        ],
                    })),
                }],
            });

            Packer.toBlob(doc).then(blob => saveAs(blob, "Legalz_Contract_Export.docx"));
        }

        // Particle System logic (kept from original)
        const canvas = document.getElementById('particlesCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let particles = Array.from({length: 50}, () => ({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            vx: (Math.random() - 0.5) * 0.2,
            vy: (Math.random() - 0.5) * 0.2
        }));

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#00f2ff';
            particles.forEach(p => {
                p.x += p.vx; p.y += p.vy;
                if(p.x < 0 || p.x > canvas.width) p.vx *= -1;
                if(p.y < 0 || p.y > canvas.height) p.vy *= -1;
                ctx.beginPath(); ctx.arc(p.x, p.y, 1, 0, Math.PI*2); ctx.fill();
            });
            requestAnimationFrame(animate);
        }
        animate();

        sendBtn.onclick = executeDraft;
        promptInput.onkeydown = (e) => { if(e.key === 'Enter') { e.preventDefault(); executeDraft(); } };
    </script>
</body>
</html>
