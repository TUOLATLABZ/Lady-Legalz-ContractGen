<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lady Legalz ContractGen • Neo-Intelligence Engine</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/docx@8.5.0/build/index.js"></script>
    <script src="https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js"></script>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; background: #000; color: #e0e0e0; font-family: 'Inter', sans-serif; }
        .app { display: flex; flex-direction: column; height: 100vh; max-width: 900px; margin: 0 auto; background: #000; }
        header { text-align: center; padding: 40px 20px 20px; }
        h1 { font-size: 2rem; margin: 0; color: #fff; font-weight: 600; }
        .subtitle { font-size: 1rem; color: #aaa; margin-top: 8px; }
        .disclaimer { padding: 15px; text-align: center; font-size: 0.9rem; color: #ff9900; background: rgba(255,153,0,0.1); border-bottom: 1px solid #333; }
        .chat-container { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 20px; }
        .message { max-width: 80%; padding: 16px 24px; border-radius: 20px; line-height: 1.6; font-size: 1.05rem; }
        .user { align-self: flex-end; background: #8b5cf6; color: #fff; border-bottom-right-radius: 4px; }
        .assistant { align-self: flex-start; background: #1f1f1f; border: 1px solid #333; border-bottom-left-radius: 4px; }
        .assistant pre { white-space: pre-line; background: #111; padding: 20px; border-radius: 12px; margin: 20px 0; font-family: 'Times New Roman', Times, serif; font-size: 16px; line-height: 1.8; }
        .thinking { font-style: italic; color: #aaa; }
        .input-bar { display: flex; padding: 20px; background: #111; border-top: 1px solid #333; gap: 12px; }
        #prompt { flex: 1; padding: 16px 20px; background: #222; border: 1px solid #444; border-radius: 24px; color: #fff; font-size: 1.05rem; resize: none; height: 60px; }
        #prompt:focus { outline: none; border-color: #8b5cf6; }
        #send-btn { padding: 0 30px; background: #8b5cf6; border: none; border-radius: 24px; color: #fff; font-weight: 600; cursor: pointer; }
        #send-btn:hover { background: #a78bfa; }
        .export-buttons { margin-top: 20px; display: flex; gap: 15px; }
        .download-btn { padding: 12px 24px; background: #10b981; color: #000; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; }
        .word-btn { background: #2563eb; color: #fff; }
    </style>
</head>
<body>
    <div class="app">
        <header>
            <h1>Lady Legalz ContractGen</h1>
            <div class="subtitle">Neo-Intelligence Engine • Worldwide Legal Document Generation</div>
        </header>
        <div class="disclaimer">
            <strong>Disclaimer:</strong> AI-generated drafts for informational purposes only. Not legal advice. Consult qualified professionals.
        </div>
        <div id="chat" class="chat-container">
            <div class="message assistant">
                Welcome to Lady Legalz ContractGen.<br><br>
                I am the Neo-Intelligence Engine. Describe the legal document you need (type, parties, key terms, jurisdiction), and I will generate a full professional contract.<br><br>
                Example: "Draft a Delaware NDA between Startup Inc and Consultant for AI development services."
            </div>
        </div>
        <div class="input-bar">
            <textarea id="prompt" placeholder="Describe your contract requirements..."></textarea>
            <button id="send-btn">Send</button>
        </div>
    </div>

    <script>
        const chat = document.getElementById('chat');
        const prompt = document.getElementById('prompt');
        const sendBtn = document.getElementById('send-btn');

        function addMessage(content, type) {
            const div = document.createElement('div');
            div.className = `message ${type}`;
            div.innerHTML = content;
            chat.appendChild(div);
            chat.scrollTop = chat.scrollHeight;
        }

        function generateFullContract(description) {
            const jurisdiction = description.match(/(Delaware|California|New York|Texas|England|Singapore|Cayman)/i)?.[0] || 'Delaware';
            
            const fullContract = `NON-DISCLOSURE AGREEMENT

This Non-Disclosure Agreement (the "Agreement") is entered into as of ${new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })} (the "Effective Date"), by and between:

[Disclosing Party Name], a [entity type] organized under the laws of [jurisdiction] ("Disclosing Party"), and

[Receiving Party Name], a [entity type] organized under the laws of [jurisdiction] ("Receiving Party").

WHEREAS, the parties wish to discuss certain confidential information for the purpose of ${description};

NOW, THEREFORE, in consideration of the mutual promises contained herein, the parties agree as follows:

1. DEFINITION OF CONFIDENTIAL INFORMATION
"Confidential Information" means any non-public information disclosed by Disclosing Party to Receiving Party, whether oral or written, that is designated as confidential or that reasonably should be understood to be confidential.

2. OBLIGATIONS OF RECEIVING PARTY
Receiving Party shall:
(a) hold Confidential Information in strict confidence;
(b) not disclose it to any third party without prior written consent;
(c) use it solely for the permitted purpose.

3. EXCEPTIONS
Confidential Information does not include information that:
(a) is publicly known;
(b) was known to Receiving Party prior to disclosure;
(c) is independently developed;
(d) is rightfully received from a third party.

4. TERM
This Agreement shall remain in effect for five (5) years from the Effective Date.

5. GOVERNING LAW
This Agreement shall be governed by the laws of ${jurisdiction}, without regard to conflict of laws principles.

6. MISCELLANEOUS
This Agreement constitutes the entire understanding between the parties.

IN WITNESS WHEREOF, the parties have executed this Agreement as of the Effective Date.

[Disclosing Party Signature]                    [Receiving Party Signature]

______________________________                  ______________________________
Name:                                           Name:
Title:                                          Title:
Date:                                           Date:`;

            return fullContract;
        }

        function generateContract() {
            const desc = prompt.value.trim();
            if (!desc) return;
            addMessage(desc, 'user');
            prompt.value = '';
            addMessage('<span class="thinking">Neo-Intelligence Engine processing...</span>', 'assistant');

            setTimeout(() => {
                chat.lastChild.remove();
                const contract = generateFullContract(desc);
                const response = `<pre>${contract}</pre>
                <div class="export-buttons">
                    <button class="download-btn" onclick="downloadPDF(this)">Download PDF</button>
                    <button class="download-btn word-btn" onclick="downloadWord(this)">Download Word</button>
                </div>`;
                addMessage(response, 'assistant');
            }, 3000);
        }

        function downloadPDF(btn) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const pre = btn.closest('.message').querySelector('pre');
            const text = pre ? pre.textContent : 'Contract';
            doc.setFont('times', 'normal');
            doc.setFontSize(12);
            doc.text(text, 15, 20, { maxWidth: 180, lineHeightFactor: 1.8 });
            doc.save('LadyLegalz_Contract.pdf');
        }

        async function downloadWord(btn) {
            const { Document, Packer, Paragraph, TextRun } = docx;
            const pre = btn.closest('.message').querySelector('pre');
            const text = pre ? pre.textContent : 'Contract';
            const lines = text.split('\n');
            const doc = new Document({
                styles: { default: { document: { paragraph: { spacing: { line: 360 } } } } },
                sections: [{ children: lines.map(l => new Paragraph({ text: l, style: 'Normal' })) }]
            });
            Packer.toBlob(doc).then(blob => saveAs(blob, 'LadyLegalz_Contract.docx'));
        }

        sendBtn.onclick = generateContract;
        prompt.addEventListener('keypress', e => {
            if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); generateContract(); }
        });
    </script>
</body>
</html>
