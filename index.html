<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LADY LEGALZ | NEURAL SUITE v3.9.5</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --legal-black: #020406; --cyber-blue: #00d4ff; --legal-gold: #d4af37;
            --neural-green: #00ff9d; --alert-red: #ff2a6d; --glass-bg: rgba(6, 11, 19, 0.96);
            --border-glow: rgba(0, 212, 255, 0.3); --text-dim: #94a3b8;
        }
        * { box-sizing: border-box; transition: all 0.2s ease; }
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Rajdhani', sans-serif; background-color: var(--legal-black); color: #fff; }

        /* HUD GRID SYSTEM */
        .hud-container { display: grid; grid-template-columns: 360px 1fr 420px; height: 100vh; gap: 10px; padding: 12px; background: radial-gradient(circle at top, #0d1a26 0%, #020406 100%); }
        .panel { background: var(--glass-bg); border: 1px solid var(--border-glow); backdrop-filter: blur(20px); border-radius: 4px; display: flex; flex-direction: column; position: relative; box-shadow: 0 0 30px rgba(0,0,0,0.5); }
        .panel-header { background: rgba(0, 212, 255, 0.1); padding: 12px; font-family: 'Orbitron'; font-size: 0.7rem; letter-spacing: 2.5px; color: var(--cyber-blue); border-bottom: 1px solid var(--border-glow); display: flex; justify-content: space-between; align-items: center; text-transform: uppercase; }

        /* INPUTS & UI ELEMENTS */
        .meta-box { padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .label { font-size: 0.6rem; color: var(--legal-gold); text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 6px; display: block; font-weight: bold; }
        input, select, textarea { background: rgba(0,0,0,0.7); border: 1px solid var(--border-glow); color: #fff; padding: 10px; font-family: 'Share Tech Mono'; font-size: 0.85rem; width: 100%; margin-bottom: 8px; border-radius: 2px; }
        input:focus { border-color: var(--cyber-blue); box-shadow: 0 0 10px var(--cyber-blue); outline: none; }
        
        button { background: rgba(0, 212, 255, 0.05); border: 1px solid var(--cyber-blue); color: var(--cyber-blue); padding: 10px; cursor: pointer; font-family: 'Orbitron'; font-size: 0.6rem; text-transform: uppercase; width: 100%; margin-top: 5px; letter-spacing: 1px; }
        button:hover { background: var(--cyber-blue); color: #000; box-shadow: 0 0 20px var(--cyber-blue); }
        .btn-redact { border-color: var(--alert-red); color: var(--alert-red); }
        .btn-redact:hover { background: var(--alert-red); color: #fff; }
        .btn-gold { border-color: var(--legal-gold); color: var(--legal-gold); }
        .btn-gold:hover { background: var(--legal-gold); color: #000; }

        /* VIEWPORT & LOGS */
        #pdf-viewport { flex: 1; background: #000; position: relative; overflow: hidden; border-radius: 2px; margin: 8px; }
        #pdf-object { width: 100%; height: 100%; filter: invert(0.88) hue-rotate(185deg) brightness(0.9) contrast(1.15); }
        #terminal-log { height: 120px; background: rgba(0,0,0,0.9); font-family: 'Share Tech Mono'; font-size: 0.7rem; padding: 10px; overflow-y: auto; color: var(--neural-green); border-top: 1px solid var(--border-glow); }

        /* TIMELINE DISPLAY */
        #timeline-map { background: rgba(0, 212, 255, 0.03); padding: 10px; border: 1px dashed var(--border-glow); min-height: 50px; font-size: 0.7rem; color: var(--cyber-blue); margin-top: 5px; border-radius: 4px; display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }

        /* BOOT SCREEN */
        #boot-screen { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .glitch-logo { font-family: 'Orbitron'; font-size: 2.5rem; color: var(--legal-gold); letter-spacing: 15px; text-shadow: 2px 2px var(--alert-red); animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.7; transform: scale(0.98); } }
    </style>
</head>
<body>

<div id="boot-screen">
    <div class="glitch-logo">LADY LEGALZ</div>
    <div id="boot-log" style="font-family: 'Share Tech Mono'; color: var(--cyber-blue); margin-top: 20px; font-size: 0.8rem; text-align: center;">AUTHENTICATING NEURAL LINK...</div>
</div>

<div class="hud-container">
    <aside class="panel">
        <div class="panel-header">VAULT_CORE <span>SECURE</span></div>
        <div style="flex:1; overflow-y:auto;">
            <div class="meta-box">
                <span class="label">GROK_XAI API KEY</span>
                <input type="password" id="grok-key" placeholder="sk-..." onchange="saveKey()">
                <div style="font-size:0.55rem; color:var(--text-dim); text-align:right;">GITHUB_READY: ACTIONS COMPLIANT</div>
            </div>
            
            <div class="meta-box">
                <span class="label">FEDERAL PROTOCOLS (11)</span>
                <select onchange="loadPDF(this.value)">
                    <option value="">-- SELECT FORM --</option>
                    <option value="Civil Action Complaint Federal.pdf">Civil Complaint</option>
                    <option value="Employment Discrimination.pdf">EEOC Complaint</option>
                    <option value="Civil Rights Complaint.pdf">Civil Rights (Prisoner)</option>
                    <option value="Civil Rights Non-Prisoner.pdf">Civil Rights (Non-Prisoner)</option>
                    <option value="IFP Fee Waiver.pdf">IFP Fee Waiver</option>
                    <option value="Civil Cover Sheet.pdf">Civil Cover Sheet</option>
                    <option value="Federal Summons.pdf">Federal Summons</option>
                    <option value="Judicial Misconduct.pdf">Judicial Misconduct</option>
                    <option value="Defendant Answer.pdf">Defendant Answer</option>
                    <option value="Notice of Waiver.pdf">Notice of Waiver</option>
                    <option value="Waiver of Service.pdf">Waiver of Service</option>
                </select>
            </div>

            <div class="meta-box">
                <span class="label">CIVIL ASSETS (9)</span>
                <select onchange="loadPDF(this.value)">
                    <option value="">-- SELECT ASSET --</option>
                    <option value="Attorney Client Agreement.pdf">A/C Agreement</option>
                    <option value="Divorce Settlement.pdf">Divorce Settlement</option>
                    <option value="Estate Plan.pdf">Estate Plan Agreement</option>
                    <option value="Hold Harmless.pdf">Hold Harmless Agreement</option>
                    <option value="Land Purchase.pdf">Land Purchase Agreement</option>
                    <option value="Lease Agreement.pdf">Landlord Tenant Agreement</option>
                    <option value="LLC Articles.pdf">LLC Articles</option>
                    <option value="LS Rep Agreement.pdf">Limited Scope Rep</option>
                    <option value="Software Agreement.pdf">Software Dev Agreement</option>
                </select>
            </div>

            <div class="meta-box">
                <span class="label">PERSONALITY_MATRIX</span>
                <select id="persona" onchange="logUpdate('Persona Shift Detected.')">
                    <option value="prof">PROFESSIONAL (CALCULATED)</option>
                    <option value="agg">AGGRESSIVE (LITIGATOR)</option>
                    <option value="sarc">SARCASTIC (GROK-V2)</option>
                </select>
            </div>
        </div>
    </aside>

    <main class="panel">
        <div class="panel-header">NEURAL_BUFFER // <span id="current-file" style="color:var(--legal-gold)">IDLE_MODE</span></div>
        <div id="pdf-viewport">
            <object id="pdf-object" data="" type="application/pdf">
                <div style="padding:100px; text-align:center; color:var(--text-dim); font-family:'Orbitron'; font-size:0.8rem;">[ SELECT ASSET TO MOUNT ]</div>
            </object>
        </div>
        <div id="terminal-log"></div>
    </main>

    <aside class="panel">
        <div class="panel-header">INTELLIGENCE_ENGINE <span id="grok-status" style="color:var(--alert-red)">● DISCONNECTED</span></div>
        <div style="flex:1; padding:15px; overflow-y:auto;">
            <span class="label">NEURAL TIMELINE MAP</span>
            <div id="timeline-map">Chronological scan standby...</div>
            
            <hr style="border:0; border-top:1px solid var(--border-glow); margin:15px 0;">
            
            <span class="label">DRAFTING SCRATCHPAD</span>
            <textarea id="scratch" style="height:250px;" placeholder="Input sequence for neural analysis..." oninput="neuralProcess()"></textarea>
            
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:8px;">
                <button onclick="invokeGrok()" class="btn-gold">GROK_SCAN</button>
                <button onclick="applyBlackout()" class="btn-redact">BLACKOUT_RED</button>
            </div>
            <button onclick="exportSecureMemo()">GENERATE_MEMO</button>

            <hr style="border:0; border-top:1px solid var(--border-glow); margin:15px 0;">
            <span class="label">DISCOVERY_INDEX</span>
            <div id="discovery-index" style="font-family:'Share Tech Mono'; font-size:0.7rem; color:var(--neural-green);"></div>
        </div>
    </aside>
</div>

<script>
    const bootSequence = [
        "Initializing Neural Kernel...",
        "Mounting 20 PDF Assets...",
        "Loading Redaction Chip v3.9...",
        "Establishing xAI Handshake...",
        "Lady Legalz v3.9.5 Online."
    ];

    window.onload = () => {
        let i = 0;
        const interval = setInterval(() => {
            if(i < bootSequence.length) {
                document.getElementById('boot-log').innerText = `>> ${bootSequence[i]}`;
                i++;
            } else {
                clearInterval(interval);
                document.getElementById('boot-screen').style.display = 'none';
                document.getElementById('grok-key').value = localStorage.getItem('grok_api_key') || "";
                checkGrok();
            }
        }, 400);
        setInterval(() => { logUpdate("Neural sync active..."); }, 45000);
    };

    function logUpdate(msg) {
        const log = document.getElementById('terminal-log');
        const d = document.createElement('div');
        d.innerHTML = `[${new Date().toLocaleTimeString()}] >> ${msg}`;
        log.prepend(d);
    }

    function saveKey() {
        localStorage.setItem('grok_api_key', document.getElementById('grok-key').value);
        checkGrok();
        logUpdate("API Key securely cached.");
    }

    function checkGrok() {
        const key = document.getElementById('grok-key').value;
        const status = document.getElementById('grok-status');
        if(key.startsWith('xai-')) {
            status.innerHTML = "● GROK_LINKED";
            status.style.color = "var(--neural-green)";
        }
    }

    function loadPDF(f) {
        if(!f) return;
        document.getElementById('current-file').innerText = f.toUpperCase();
        document.getElementById('pdf-object').data = "pdfs/" + f;
        logUpdate(`Asset Mounted: ${f}`);
    }

    function neuralProcess() {
        const text = document.getElementById('scratch').value;
        
        // Timeline Logic
        const dateRegex = /\b(19|20)\d{2}\b/g;
        const years = [...new Set(text.match(dateRegex))].sort();
        document.getElementById('timeline-map').innerHTML = years.length ? 
            years.map(y => `<span style="background:rgba(0,212,255,0.1); padding:2px 5px; border:1px solid var(--cyber-blue);">${y}</span>`).join(' → ') 
            : "No dates detected.";

        // Discovery Logic
        const discRegex = /(Exhibit\s[A-Z0-9]+|Evidence\s\d+|Photograph|Contract\s#\d+)/gi;
        const matches = [...new Set(text.match(discRegex))];
        document.getElementById('discovery-index').innerHTML = matches.map(m => `<div>> INDEXED: ${m.toUpperCase()}</div>`).join('');
    }

    function applyBlackout() {
        const el = document.getElementById('scratch');
        const start = el.selectionStart;
        const end = el.selectionEnd;
        if (start === end) return alert("SELECT SENSITIVE DATA TO REDACT.");
        const text = el.value;
        el.value = text.substring(0, start) + "[REDACTED]" + text.substring(end);
        logUpdate("Blackout applied to sensitive buffer segment.");
    }

    async function invokeGrok() {
        const key = localStorage.getItem('grok_api_key');
        if(!key) return alert("AUTHENTICATION FAILED: NO API KEY.");
        logUpdate("Grok-XAI Analysis initiated...");
        // API Fetch logic would go here, utilizing the key from localStorage
    }

    function exportSecureMemo() {
        const text = document.getElementById('scratch').value;
        const memo = window.open('', '_blank');
        memo.document.write(`<html><head><title>SECURE_MEMO</title><style>body{font-family:serif; padding:50px; line-height:1.6;} h1{border-bottom:2px solid #000;}</style></head><body><h1>PRIVILEGED WORK PRODUCT</h1><p>${text.replace(/\n/g, '<br>')}</p></body></html>`);
        logUpdate("Memo buffer exported to secure viewer.");
    }
</script>
</body>
</html>
